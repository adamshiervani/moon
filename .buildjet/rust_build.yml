images:
  rust:
    envs:
      PATH: /home/runner/.local/bin:/opt/pipx_bin:/home/runner/.cargo/bin:/home/runner/.config/composer/vendor/bin:/usr/local/.ghcup/bin:/home/runner/.dotnet/tools:/snap/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin
    base_image: ubuntu-22.04-github
    tasks:
      - pwd
      - env
      - export PATH="/home/runner/.local/bin:/opt/pipx_bin:/home/runner/.cargo/bin:/home/runner/.config/composer/vendor/bin:/usr/local/.ghcup/bin:/home/runner/.dotnet/tools:/snap/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin"
      - env
      - which cargo
      - nvm ls
    rebuild:
      on_base_image_change: true
      on_file_change: '**/Cargo.lock' # rebuild when Cargo.lock cha  nges
executor:
  image: rust
  hardware: x86-4vcpu
tasks:
  - cargo make lint
